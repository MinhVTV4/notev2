<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlexiNote - Integrated</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Lora:ital,wght@0,400;0,700;1,400&family=Merriweather:ital,wght@0,400;0,700;1,400&family=Noto+Sans:wght@400;700&family=Open+Sans:wght@400;700&family=Roboto:wght@400;700&family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">

</head>
<body>

    <div class="app-container">

        <aside id="app-sidebar" class="app-sidebar">
            <div class="sidebar-header">
                <h2>Modules</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><button class="sidebar-nav-button active" data-module="notes">üìù Ghi ch√∫</button></li>
                    <li><button class="sidebar-nav-button" data-module="goals">üéØ M·ª•c ti√™u</button></li>
                    <li><button class="sidebar-nav-button" data-module="habits">üîÑ Th√≥i quen</button></li>
                    <li><button class="sidebar-nav-button" data-module="skills">üí° K·ªπ nƒÉng</button></li>
                    <li><button class="sidebar-nav-button" data-module="time">‚è±Ô∏è Th·ªùi gian</button></li>
                </ul>
            </nav>
             <div class="sidebar-footer">
            </div>
        </aside>

        <div id="app-main-content" class="main-content">

            <header class="app-header">
                <h1>FlexiNote 4 Everything</h1>
                <div class="header-actions">
                    <button id="manage-notebooks-btn" title="Qu·∫£n l√Ω c√°c s·ªï tay">Qu·∫£n l√Ω S·ªï tay</button>
                    <button id="manage-templates-btn" title="Qu·∫£n l√Ω c√°c m·∫´u ghi ch√∫">Qu·∫£n l√Ω M·∫´u</button>
                    <button id="view-archive-btn" title="Xem c√°c ghi ch√∫ ƒë√£ l∆∞u tr·ªØ">Xem L∆∞u tr·ªØ</button>
                    <button id="view-trash-btn" title="Xem c√°c ghi ch√∫ ƒë√£ x√≥a">Th√πng r√°c</button>
                    <button id="empty-trash-btn" class="hidden" title="X√≥a vƒ©nh vi·ªÖn t·∫•t c·∫£ ghi ch√∫ trong th√πng r√°c">D·ªçn s·∫°ch Th√πng r√°c</button>
                    <button id="export-notes-btn" title="Xu·∫•t t·∫•t c·∫£ ghi ch√∫, m·∫´u v√† s·ªï tay ra file JSON">Xu·∫•t Notes</button>
                    <button id="import-notes-btn" title="Nh·∫≠p ghi ch√∫, m·∫´u v√† s·ªï tay t·ª´ file JSON (S·∫Ω thay th·∫ø to√†n b·ªô d·ªØ li·ªáu hi·ªán t·∫°i)">Nh·∫≠p Notes</button>
                    <input type="file" id="import-file-input" accept=".json" class="hidden">
                    <button id="settings-btn" title="M·ªü c√†i ƒë·∫∑t giao di·ªán">C√†i ƒë·∫∑t</button>
                    <button id="theme-toggle-btn" title="Chuy·ªÉn ƒë·ªïi Ch·∫ø ƒë·ªô S√°ng/T·ªëi"></button>
                </div>
                <div id="archive-status-indicator" class="archive-status hidden">ƒêang xem c√°c ghi ch√∫ ƒë√£ l∆∞u tr·ªØ.</div>
                <div id="trash-status-indicator" class="trash-status hidden">ƒêang xem Th√πng r√°c.</div>
            </header>

            <main>
                <div id="notes-module">
                    <div id="notebook-tabs-container" class="notebook-tabs">
                        <button class="tab-button active" data-notebook-id="all">T·∫•t c·∫£ Ghi ch√∫</button>
                        <button id="add-notebook-tab-btn" class="add-tab-button" title="Th√™m S·ªï tay m·ªõi">+</button>
                    </div>

                    <div class="controls-container">
                        <input type="search" id="search-input" placeholder="T√¨m ki·∫øm ghi ch√∫ (ti√™u ƒë·ªÅ, n·ªôi dung ho·∫∑c #tag)...">
                        {/* --- PANEL TH√äM GHI CH√ö ƒê√É C·∫¨P NH·∫¨T --- */}
                        <div id="add-note-panel" class="hidden">
                            <div class="form-group">
                                <label for="template-select">S·ª≠ d·ª•ng m·∫´u:</label>
                                <select id="template-select">
                                    <option value="">-- Kh√¥ng d√πng m·∫´u --</option>
                                    {/* C√°c option m·∫´u s·∫Ω ƒë∆∞·ª£c JS th√™m v√†o */}
                                </select>
                            </div>
                            <input type="text" id="new-note-title" placeholder="Ti√™u ƒë·ªÅ (t√πy ch·ªçn)...">
                            <textarea id="new-note-text" placeholder="Nh·∫≠p n·ªôi dung ghi ch√∫..."></textarea>
                            <input type="text" id="new-note-tags" placeholder="Tags (c√°ch nhau b·∫±ng d·∫•u ph·∫©y)..." autocomplete="off">

                            <fieldset class="goal-inputs mt-4 pt-3 border-t border-dashed">
                                <legend class="text-sm font-medium text-gray-600 mb-2">Th√¥ng tin M·ª•c ti√™u (t√πy ch·ªçn)</legend>
                                <div class="form-group mb-3">
                                    <label for="new-note-due-date" class="block text-sm font-medium text-gray-600 mb-1">H·∫°n ch√≥t:</label>
                                    <input type="date" id="new-note-due-date" class="w-full p-1 border rounded-md text-sm">
                                </div>
                                <div class="form-group">
                                    <label for="new-note-goal-status" class="flex items-center text-sm cursor-pointer">
                                        <input type="checkbox" id="new-note-goal-status" class="mr-2 h-4 w-4 rounded">
                                        ƒê√£ ho√†n th√†nh
                                    </label>
                                </div>
                            </fieldset>

                            <div class="panel-actions">
                                <button id="add-note-btn">Th√™m Ghi Ch√∫</button>
                                <button id="close-add-panel-btn">ƒê√≥ng</button>
                            </div>
                        </div>
                        {/* --- K·∫æT TH√öC PANEL TH√äM GHI CH√ö --- */}
                    </div>

                    <div id="notes-container">
                        {/* C√°c th·∫ª ghi ch√∫ s·∫Ω ƒë∆∞·ª£c JS render v√†o ƒë√¢y */}
                    </div>

                    <button id="show-add-panel-btn" class="fab" title="Th√™m ghi ch√∫ m·ªõi">+</button>
                </div>

                <div id="goals-module" class="app-module-container hidden">
                     <p>ƒêang t·∫£i M·ª•c ti√™u...</p>
                </div>

                <div id="habits-module" class="app-module-container hidden">
                     <p>ƒêang t·∫£i Th√≥i quen...</p>
                </div>

                <div id="skills-module" class="app-module-container hidden">
                     <p>ƒêang t·∫£i K·ªπ nƒÉng...</p>
                </div>

                <div id="time-module" class="app-module-container hidden">
                     <p>ƒêang t·∫£i Th·ªùi gian...</p>
                </div>
            </main>

            <footer class="text-center text-gray-500 mt-8 p-4" style="color: var(--secondary-color); font-size: 0.9em;">
                 <p>&copy; 2025 - FlexiNote Integrated</p>
            </footer>

        </div>

    </div>

    {/* === MODALS === */}
    <div id="notebook-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="notebook-modal-title">
        <div class="modal-content notebook-modal-content">
             <div class="modal-header">
                 <h2 id="notebook-modal-title">Qu·∫£n l√Ω S·ªï tay</h2>
                 <button id="close-notebook-modal-btn" class="close-modal-btn" title="ƒê√≥ng (Esc)" aria-label="ƒê√≥ng c·ª≠a s·ªï qu·∫£n l√Ω s·ªï tay">&times;</button>
             </div>
             <div class="modal-body">
                 <div id="notebook-list-section">
                     <h3>Danh s√°ch S·ªï tay</h3>
                     <div id="notebook-list-container">
                         <p class="empty-state">Ch∆∞a c√≥ s·ªï tay n√†o.</p>
                     </div>
                     <button id="show-add-notebook-panel-btn" class="modal-button primary">T·∫°o S·ªï tay M·ªõi</button>
                 </div>
                 <div id="notebook-edit-panel" class="hidden">
                     <h3 id="notebook-edit-title">T·∫°o S·ªï tay M·ªõi</h3>
                     <input type="hidden" id="notebook-edit-id">
                     <div class="form-group">
                         <label for="notebook-edit-name">T√™n S·ªï tay (b·∫Øt bu·ªôc):</label>
                         <input type="text" id="notebook-edit-name" placeholder="V√≠ d·ª•: C√¥ng vi·ªác, C√° nh√¢n...">
                     </div>
                     <div class="panel-actions">
                         <button id="save-notebook-btn" class="modal-button primary">L∆∞u S·ªï tay</button>
                         <button id="cancel-edit-notebook-btn" class="modal-button secondary">H·ªßy</button>
                     </div>
                 </div>
             </div>
        </div>
    </div>

    <div id="template-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="template-modal-title">
         <div class="modal-content template-modal-content">
             <div class="modal-header">
                 <h2 id="template-modal-title">Qu·∫£n l√Ω M·∫´u Ghi Ch√∫</h2>
                 <button id="close-template-modal-btn" class="close-modal-btn" title="ƒê√≥ng (Esc)" aria-label="ƒê√≥ng c·ª≠a s·ªï qu·∫£n l√Ω m·∫´u">&times;</button>
             </div>
             <div class="modal-body">
                 <div id="template-list-section">
                     <h3>Danh s√°ch M·∫´u</h3>
                     <div id="template-list-container">
                         <p class="empty-state">Ch∆∞a c√≥ m·∫´u n√†o.</p>
                     </div>
                     <button id="show-add-template-panel-btn" class="modal-button primary">T·∫°o M·∫´u M·ªõi</button>
                 </div>
                 <div id="template-edit-panel" class="hidden">
                     <h3 id="template-edit-title">T·∫°o M·∫´u M·ªõi</h3>
                     <input type="hidden" id="template-edit-id">
                     <div class="form-group">
                         <label for="template-edit-name">T√™n M·∫´u (b·∫Øt bu·ªôc):</label>
                         <input type="text" id="template-edit-name" placeholder="V√≠ d·ª•: H·ªçp h√†ng tu·∫ßn, √ù t∆∞·ªüng Blog...">
                     </div>
                     <div class="form-group">
                         <label for="template-edit-title-input">Ti√™u ƒë·ªÅ M·∫´u:</label>
                         <input type="text" id="template-edit-title-input" placeholder="Ti√™u ƒë·ªÅ m·∫∑c ƒë·ªãnh...">
                     </div>
                     <div class="form-group">
                         <label for="template-edit-text">N·ªôi dung M·∫´u:</label>
                         <textarea id="template-edit-text" placeholder="N·ªôi dung m·∫∑c ƒë·ªãnh..."></textarea>
                     </div>
                     <div class="form-group">
                         <label for="template-edit-tags">Tags M·∫´u:</label>
                         <input type="text" id="template-edit-tags" placeholder="Tags m·∫∑c ƒë·ªãnh (c√°ch nhau b·∫±ng d·∫•u ph·∫©y)...">
                     </div>
                     <div class="panel-actions">
                         <button id="save-template-btn" class="modal-button primary">L∆∞u M·∫´u</button>
                         <button id="cancel-edit-template-btn" class="modal-button secondary">H·ªßy</button>
                     </div>
                 </div>
             </div>
        </div>
    </div>

    <div id="settings-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="settings-modal-title">
         <div class="modal-content settings-modal-content">
            <div class="modal-header">
                 <h2 id="settings-modal-title">T√πy ch·ªânh Giao di·ªán</h2>
                 <button id="close-settings-modal-btn" class="close-modal-btn" title="ƒê√≥ng (Esc)" aria-label="ƒê√≥ng c·ª≠a s·ªï c√†i ƒë·∫∑t">&times;</button>
             </div>
             <div class="modal-body">
                 <div class="setting-section">
                     <h3>Ch·ªß ƒë·ªÅ (Theme)</h3>
                     <div class="theme-options setting-options-grid" role="radiogroup" aria-labelledby="theme-label">
                         <span id="theme-label" class="sr-only">Ch·ªçn ch·ªß ƒë·ªÅ</span>
                         <button class="theme-option-btn setting-option-button" data-theme="light" role="radio" aria-checked="false">S√°ng</button>
                         <button class="theme-option-btn setting-option-button" data-theme="dark" role="radio" aria-checked="false">T·ªëi</button>
                         <button class="theme-option-btn setting-option-button" data-theme="sepia" role="radio" aria-checked="false">N√¢u ƒë·ªè</button>
                         <button class="theme-option-btn setting-option-button" data-theme="solarized-light" role="radio" aria-checked="false">Solarized S√°ng</button>
                         <button class="theme-option-btn setting-option-button" data-theme="solarized-dark" role="radio" aria-checked="false">Solarized T·ªëi</button>
                         <button class="theme-option-btn setting-option-button" data-theme="nord" role="radio" aria-checked="false">Nord</button>
                         <button class="theme-option-btn setting-option-button" data-theme="gruvbox-dark" role="radio" aria-checked="false">Gruvbox T·ªëi</button>
                         <button class="theme-option-btn setting-option-button" data-theme="gruvbox-light" role="radio" aria-checked="false">Gruvbox S√°ng</button>
                         <button class="theme-option-btn setting-option-button" data-theme="dracula" role="radio" aria-checked="false">Dracula</button>
                         <button class="theme-option-btn setting-option-button" data-theme="monochrome" role="radio" aria-checked="false">Monochrome</button>
                     </div>
                 </div>
                 <div class="setting-section">
                     <h3>M√†u nh·∫•n (Accent Color)</h3>
                     <div class="accent-color-options" role="radiogroup" aria-labelledby="accent-color-label">
                         <span id="accent-color-label" class="sr-only">Ch·ªçn m√†u nh·∫•n</span>
                         <button class="color-swatch-btn accent-swatch" data-color="default" title="M·∫∑c ƒë·ªãnh" role="radio" aria-checked="true" style="background-color: #ccc; border: 1px dashed;"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#dc3545" title="ƒê·ªè" style="background-color: #dc3545;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#ffc107" title="V√†ng" style="background-color: #ffc107;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#198754" title="Xanh l√°" style="background-color: #198754;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#6f42c1" title="T√≠m" style="background-color: #6f42c1;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#fd7e14" title="Cam" style="background-color: #fd7e14;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#20c997" title="Xanh ng·ªçc" style="background-color: #20c997;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#d63384" title="H·ªìng" style="background-color: #d63384;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#6610f2" title="Ch√†m (Indigo)" style="background-color: #6610f2;" role="radio" aria-checked="false"></button>
                         <button class="color-swatch-btn accent-swatch" data-color="#a0522d" title="N√¢u (Sienna)" style="background-color: #a0522d;" role="radio" aria-checked="false"></button>
                     </div>
                 </div>
                 <div class="setting-section">
                     <h3>Font ch·ªØ</h3>
                     <div class="form-group">
                         <label for="font-family-select">Font cho n·ªôi dung:</label>
                         <select id="font-family-select">
                             <option value='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'>M·∫∑c ƒë·ªãnh h·ªá th·ªëng</option>
                             <option value="'Roboto', sans-serif">Roboto</option>
                             <option value="'Open Sans', sans-serif">Open Sans</option>
                             <option value="'Noto Sans', sans-serif">Noto Sans</option>
                             <option value="'Lato', sans-serif">Lato</option>
                             <option value="'Lora', serif">Lora (Serif)</option>
                             <option value="'Merriweather', serif">Merriweather (Serif)</option>
                             <option value="'Source Code Pro', monospace">Source Code Pro (Code)</option>
                         </select>
                     </div>
                 </div>
                 <div class="setting-section">
                     <h3>C·ª° ch·ªØ N·ªôi dung</h3>
                     <div class="form-group font-size-control">
                         <label for="font-size-slider" class="sr-only">ƒêi·ªÅu ch·ªânh t·ª∑ l·ªá c·ª° ch·ªØ</label>
                         <input type="range" id="font-size-slider" min="0.8" max="1.5" step="0.05" value="1">
                         <span id="font-size-value" aria-live="polite">100%</span>
                         <button id="reset-font-size-btn" class="modal-button secondary small-button" title="ƒê·∫∑t l·∫°i c·ª° ch·ªØ v·ªÅ m·∫∑c ƒë·ªãnh (100%)">Reset</button>
                     </div>
                 </div>
             </div>
        </div>
    </div>

    <div id="habit-history-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-habit-name" class="text-lg font-semibold">L·ªãch s·ª≠ Th√≥i quen</h3>
                <button id="close-history-modal-btn" class="close-modal-btn">&times;</button>
            </div>
            <div class="flex justify-between items-center mb-3">
                <button id="prev-month-btn" class="modal-button secondary small-button">&lt; Tr∆∞·ªõc</button>
                <span id="current-month-year" class="font-semibold">Th√°ng NƒÉm 2025</span>
                <button id="next-month-btn" class="modal-button secondary small-button">Sau &gt;</button>
            </div>
            <div id="calendar-grid-container" class="calendar-grid">
            </div>
        </div>
    </div>

    {/* === SCRIPTS === */}
    <script src="script.js" defer></script>
    <script src="goals.js" defer></script>
    <script src="habits.js" defer></script>
    <script src="skills.js" defer></script>
    <script src="time.js" defer></script>

</body>
</html>
```

Gi·ªù b·∫°n c√≥ th·ªÉ d√πng file HTML n√†y c√πng v·ªõi file `script.js` (b·∫£n ƒë·∫ßy ƒë·ªß v2) v√† file `style.css` (ƒë√£ b·ªï sung CSS cho sidebar v√† hi·ªÉn th·ªã m·ª•c ti√™u) ƒë·ªÉ ti·∫øp t
